# Работа с GIT (шпаргалка)

__Git__ (произносится "гит" [^1]) — распределённая система управления версиями. Проект был создан Линусом Торвальдсом для управления разработкой ядра Linux, первая версия выпущена 7 апреля 2005 года.

Системы контроля версий позволяют разработчикам управлять разработкой и быть уверенным, что любое новое изменение не "поломает" код. Более подробно можно узнать из официального справочника GIT [^2].

## терминология

* __репозиторий (англ. repository)__ - место хранения программного кода.
* __отслеживание версий (англ. version tracking)__ - отслеживание изменений в документах (например, в программном коде). Данное отслеживание позволяет управлять историей изменений. Отслеживание версий выполняется специальными программами - _системами контроля версий_.
* __контроль версий (англ. version control)__ - известный также как __контроль программного кода (source control)__, практика отслеживания изменений в программном коде и управления этими изменениями.
* __система контроля версий (англ. version control system)__ - специализированный программный продукт, позволяющий выполнять контроль версий. Наиболее известные программы: [CVS](https://ru.wikipedia.org/wiki/CVS), [SVN](https://ru.wikipedia.org/wiki/Subversion), [GIT](https://ru.wikipedia.org/wiki/Git).
* __ветвь изменений (англ. branch)__ - направление разработки, независимое от других. Ветвь представляет собой копию части хранилища (например, одного каталога), в которую можно вносить изменения, не влияющие на другие ветви. Документы в разных ветвях имеют одинаковую историю до точки ветвления и разные — после неё.
* __изменение (сохранение изменения) (англ. commit)__ - сохранение (запоминание) изменений кода в системе контроля версий.
* __версия проекта (англ. project version)__ - состояние проекта в определенный момент времени.
* __вытянуть версию (англ. pull version)__ - получить версию из удаленного репозитория.
* __опубликовать версию (англ. push version)__ - отправить версию в удаленный репозиторий.
* __слияние ветвей (англ. merge branch)__ - объединение изменений из одной ветви в другую.
* __запрос на вливание (англ. pull request)__ - запрос на вливание изменений из одной ветви в другую.
* __запрос на слияние (англ. merge request)__ - запрос на слияние изменений из одной ветви в другую.
* __конфликт слияния (англ. merge conflict)__ - ситуация, когда две ветви изменяют один и тот же файл и система контроля версий не может автоматически объединить изменения.

## шпаргалка

| действие | команда |
| -------- | ------- |
| Посмотреть существующие ветки: | `git branch` |
| Создать ветку `my-cool-branch`: | `git branch my-cool-branch` |
| Перейти на ветку `my-cool-branch`: | `git checkout my-cool-branch` |
| Удалить ветку `my-cool-branch`: | `git branch -D my-cool-branch` |
| Создать и перейти: | `git checkout -B my-cool-branch` |
| Просмотреть статус: | `git status` |
| Добавить все файлы: | `git add *` |
| Добавить файл `mycoolfile`: | `git add mycoolfile` |
| Создать коммит с сообщением `test message`: | `git commit -m "test message"` |
| Отправить изменения в удаленный репозиторий | `git push` |

## начало взаимодействия с GITHUB

Создайте аккаунт на GITHUB. По завершению вы сможете создавать свои репозитории, как публичные так и приватные.

Для взаимодействия с GITHUB сначала надо установить GIT. Для его скачивания и знакомства с процессом установки перейдите на страницу [Установка GIT](https://git-scm.com/book/ru/v2/Введение-Установка-Git) и выполните указанные инструкции.

## ключ безопасности

Пусть вы зарегистрировали аккаунт на почтовый адрес `my@cool.email`.

После установки GIT в меню ОС появится GIT BASH. Откройте эту консоль и создайте ключи аутентификации для GITHUB. Для этого выполните следующую команду:

```shell
ssh-keygen -C "my@cool.email"
```

В папке пользователя компьютера (`~/.ssh`) будут созданы два файла: приватный и публичный ключи. Публичный ключ необходимо зарегистрировать в github.
> При желании можно задать своё имя ключам, тогда необходимо создать файл `~/.ssh/config` в котором
> прописывается имя ключа для конкретного клиента - github.

## создание репозитория

Простейшим способом создания репозитория будет создание его через Web интерфейс с последующим его клонированием.

## Минимальный рабочий сценарий

Минимальный рабочий сценарий включает в себя следующие шаги:

1. переключение на главную ветку
2. получение последних изменений с удаленного сервера
3. создание новой ветки (для новой функциональности) и переход на неё
4. _реализация новой функциональности - к GIT не имеет отношения_
5. добавление измененных файлов к отслеживаемым файлам
6. создание точки изменения (commit, коммит)
7. отправка точки изменения на сервер

На удаленном сервере будет создана новая ветка, которую надо будет влить в главную ветку. Для этого создаётся запрос (pull request или merge request) через web интерфейс репозитория. После проверки кода и его одобрения новая ветка вливается в главную.

```shell
git checkout main
git pull
git checkout -B <new-branch>
# some work inside
git add *
git commit -m <message>
git push
```

## Библиография

[^1]: [Wiki GIT](https://ru.wikipedia.org/wiki/Git)
[^2]: [Pro GIT](https://git-scm.com/book/ru/v2)
